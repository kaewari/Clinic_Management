{% extends 'employee/list.html' %}
{% block content %}
<div class="container">
    <h1 class="text-center text-danger">Thông tin đăng ký khám của bệnh nhân</h1>
    <form action="{{ url_for('show_appointment') }}">
        <div class="form-group">
            <label for="guest_id">Mã bệnh nhân</label>
            <input type="text" class="form-control" id="guest_id" name="guest_id" placeholder="Nhap ma bệnh nhân..." />
        </div>
        <div class="form-group">
            <label for="day">Ngày</label>
            <input type="text" class="form-control" id="day" name="day" placeholder="Nhap ngay..." />
        </div>
        <div class="form-group">
            <label for="month">Tháng</label>
            <input type="text" class="form-control" id="month" name="month" placeholder="Nhap thang..." />
        </div>
        <div class="form-group">
            <label for="year">Năm</label>
            <input type="text" class="form-control" id="year" name="year" placeholder="Nhap nam..." />
        </div>
        <input type="submit" value="Tìm kiếm" class="btn btn-success" />
    </form>
    {% if appointment %}
    <table class="table table-striped table-bordered">
        <tr>
            <th>STT</th>
            <th>Mã bệnh nhân</th>
            <th>Họ và tên</th>
            <th>SĐT</th>
            <th>CMND</th>
            <th>Ngày khám</th>
        </tr>
        {% set stt = namespace(value=1) %}
        {% for s in appointment %}
        <tr>
            <td>{{ stt.value }}</td>
            <td>{{ s[0] }}</td>
            <td>{{ s[1] }}</td>
            <td>{{ s[2] }}</td>
            <td>{{ s[3] }}</td>
            <td>{{ s[4].strftime('%d-%m-%Y') }}</td>
            {% set stt.value = stt.value + 1 %}
        </tr>
        {% endfor %}
    </table>
    {% else %}
    <i>Không có lịch hẹn</i>
    {% endif %}
</div>
{% endblock %}